angular.module("templates",[]).run(["$templateCache",function(a){a.put("changePassword/changepassword.html","<div>Change password</div>"),a.put("dashboard/dashboard.html",'<div class=row style=display:none;><div class=col-md-12><div class=dash-loader><h1>Welcome to Travel Management Portal</h1><i class="fa fa-refresh fa-spin"></i><p data-ng-bind="currDate | date:\'fullDate\'"></p></div></div></div><div class=row><div class=col-sm-4><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-list-alt"></i> Icome</div><div class=pull-right><i class="fa fa-refresh"></i></div></div><div class=widget-content></div></div><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-list-alt"></i> Expense</div><div class=pull-right><i class="fa fa-refresh"></i></div></div><div class=widget-content></div></div><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-list-alt"></i> Profit</div><div class=pull-right><i class="fa fa-refresh"></i></div></div><div class=widget-content></div></div></div><div class=col-sm-8><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-list-alt"></i> Local Requests</div><div class=pull-right><i class="fa fa-refresh"></i></div></div><div class=widget-content></div></div></div><div class=col-sm-8><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-list-alt"></i> Out Station Requests</div><div class=pull-right><i class="fa fa-refresh"></i></div></div><div class=widget-content></div></div></div></div>'),a.put("driver/driver-modal.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action==\'new\'?\'Add New Driver\':action==\'edit\'?\'Update Driver\':\'Driver Detail\'}}</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class=widget-content><form name=driverForm novalidate><div class=row><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=driver.name></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=driver.name></div></div><div class=col-md-3><div class=form-group><label>Driver Address</label> <span data-ng-if=hideView class=view-value data-ng-bind=driver.address></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=driver.address></div></div><div class=col-md-3><div class=form-group><label>Driver Contact</label> <span data-ng-if=hideView class=view-value data-ng-bind=driver.contact></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=driver.contact></div></div><div class=col-md-3><div class=form-group><label>Joining date</label> <span data-ng-if=hideView class=view-value data-ng-bind="driver.joinDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=driver.joinDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy readonly is-open=calendar.open ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=openCalendar()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>Salary</label> <span data-ng-if=hideView class=view-value><i class="fa fa-rupee"></i> {{driver.salary | number:\'2\'}}/-</span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=driver.salary></div></div><div class=col-md-3><div class=form-group><label>Lincence No</label> <span data-ng-if=hideView class=view-value data-ng-bind=driver.lincenceNo></span> <input data-ng-if=!hideView type=text class=form-control data-ng-model=driver.lincenceNo></div></div><div class=col-md-3><div class=form-group><label>Comments</label> <span data-ng-if=hideView class=view-value data-ng-bind=driver.comments></span> <textarea data-ng-if=!hideView class=form-control data-ng-model=driver.comments></textarea></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-disabled="!driverForm.$dirty || !driverForm.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form></div></div>'),a.put("driver/driver.html",'<div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-user"></i> Driver</div></div><div class=widget-content><div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Driver List</h3><div class=pull-right><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=addDriver()>New Driver</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Driver Name</th><th data-hide=phone,tablet>Driver Address</th><th>Driver Contact</th><th data-hide=phone,tablet>Licence No.</th><th data-hide=phone>Joining Date</th><th>Salary</th><th data-hide=phone,tablet>Comments</th><th data-hide=phone class=td-actions>Action</th></tr></thead><tbody><tr ng-repeat="d in data" data-responsive-grid><td class=srNo>{{$index+1}}</td><td data-ng-bind=d.name></td><td data-ng-bind=d.address></td><td>+91 {{d.contact}}</td><td data-ng-bind=d.lincenceNo></td><td data-ng-bind=\'d.joinDate | date:"dd-MMM-yyyy"\'></td><td><i class="fa fa-rupee"></i> {{d.salary | number:\'2\'}}/-</td><td data-ng-bind=d.comments></td><td class=td-actions><div class=btn-group><button type=button title=View data-ng-click=viewRequest(localEnv?d._id:d._id.$oid) class="btn btn-primary"><i class="fa fa-eye"></i></button> <button type=button title=Edit data-ng-click=editRequest(localEnv?d._id:d._id.$oid) class="btn btn-success"><i class="fa fa-edit"></i></button> <button type=button title=Delete data-ng-click=deleteRequest(localEnv?d._id:d._id.$oid) class="btn btn-danger"><i class="fa fa-trash"></i></button></div></td></tr></tbody></table></div></div></div></div>'),a.put("expense/expense.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=expense.vehicle>Vehicle</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=expense.driver>Driver</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),a.put("common/grid.html",'<table><thead><th data-class=expand class=srNo>Sr No.</th><th data-ng-repeat="g in gridData" data-hide={{g.hideOn}}>{{g.name}}</th><th data-hide=phone class=td-actions>Action</th></thead><tbody><tr ng-repeat="d in data" data-responsive-grid><td class=srNo>{{$index+1}}</td><td data-ng-repeat="g in gridData"><div data-ng-if="g.type==\'phone\'" data-ng-bind="\'+91\'+d.{{g.map}}"></div><div data-ng-if="g.type==\'date\'" data-ng-bind="d.{{g.map}} | date:\'dd-MMM-yyyy\'"></div><div class=amount data-ng-if="g.type==\'amount\'" data-ng-bind="d.{{g.map}} | number:\'2\'"></div><div data-ng-if="g.type==\'repeat\'"><p data-ng-repeat="r in d[g.map]">{{$index+1}}. {{r.name}} {{r.number}}</p></div><div data-ng-if=!g.type data-ng-bind=d.{{g.map}}></div></td><td class=td-actions><div class=btn-group><button type=button title=View class="btn btn-primary" data-ng-click=viewData({data:d._id})><i class="fa fa-eye"></i></button> <button type=button title=Edit class="btn btn-success" data-ng-click=editData({data:d._id})><i class="fa fa-edit"></i></button> <button type=button title=Delete class="btn btn-danger" data-ng-click=deleteData({data:d._id})><i class="fa fa-trash"></i></button></div></td></tr></tbody></table>'),a.put("forgotPassword/forgotpassword.html",'<div class=auth-panel><div class=content><h1>Forgot Password</h1><p>Don\'t worry! Just fill in your email and your login credentials will be in your mailbox.</p><div class=bg-warning data-ng-if=showAlert><i class="fa fa-warning"></i> Please enter valid login credentials.</div><form name=forgotPassword><div class=form-group><div class=input-group><div class=input-group-addon><i class="fa fa-envelope-o fa-fw"></i></div><input data-ng-model=email type=email autofocus class=form-control id=username placeholder=Email required></div></div><div class="form-group login-btn"><p><a href=# data-ui-sref=login>Back to login</a></p><input class="btn btn-success" data-ng-click=submit() type=button data-ng-disabled=forgotPassword.$invalid value=Submit></div></form></div></div>'),a.put("footer/footer.html","<div class=footer><div class=footer-inner><div class=container>Copyright &copy; 2015 Travel Management. All rights reserved.</div></div></div>"),a.put("header/auth-header.html",'<div class=navbar><div class=navbar-inner><div class=container><div class=pull-left><a class=brand href=#><i class="fa fa-bus"></i>&nbsp; Travel Management</a></div></div></div></div>'),a.put("header/home-header.html",'<div class=navbar><div class=navbar-inner><div class=container><div class=pull-left><a class=brand href=#><i class="fa fa-bus"></i>&nbsp; Travel Management</a></div><div class=pull-right><span class="userName notify"><i class="fa fa-bell"></i></span>&nbsp;&nbsp; <span class=userName><i class="fa fa-user"></i> Welcome, Guest</span> <button class="btn btn-danger" data-ng-click=logOut()>Sign Out</button><div class=alert-box><span></span><div></div></div></div></div></div></div><div class=subnavbar><div class=subnavbar-inner><div class=container><ul><li data-ui-sref-active="{active: \'dashboard\'}"><a href=# data-ui-sref=dashboard><i class="fa fa-dashboard"></i><span>Dashboard</span></a></li><li data-ui-sref-active="{active: \'request.*\'}"><a href=# data-ui-sref=request.regular><i class="fa fa-list"></i><span>Requests</span></a></li><li data-ui-sref-active="{active: \'package.*\'}"><a href=# data-ui-sref=package.local><i class="fa fa-gift"></i><span>Packages</span></a></li><li data-ui-sref-active="{active: \'vehicle.*\'}"><a href=# data-ui-sref=vehicle.own><i class="fa fa-automobile"></i><span>Vehicles</span></a></li><li data-ui-sref-active="{active: \'driver\'}"><a href=# data-ui-sref=driver><i class="fa fa-user"></i><span>Drivers</span></a></li><li data-ui-sref-active="{active: \'party.*\'}"><a href=# data-ui-sref=party.client><i class="fa fa-users"></i><span>Parties</span></a></li><li data-ui-sref-active="{active: \'expense.*\'}"><a href=# data-ui-sref=expense.vehicle><i class="fa fa-rupee"></i><span>Expenses</span></a></li><li data-ui-sref-active="{active: \'payment.*\'}"><a href=# data-ui-sref=payment.fixed><i class="fa fa-money"></i><span>Payment</span></a></li><li data-ui-sref-active="{active: \'summary.*\'}"><a href=# data-ui-sref=summary.vehicle><i class="fa fa-files-o"></i><span>Summary</span></a></li></ul></div></div></div>'),a.put("login/login.html",'<div class=auth-panel><div class=content><h1>Login</h1><p>Please provide your details</p><div class=bg-warning data-ng-if=showAlert><i class="fa fa-warning"></i> Please enter valid login credentials.</div><form name=loginForm><div class=form-group><div class=input-group><div class=input-group-addon><i class="fa fa-user fa-fw"></i></div><input data-ng-model=loginData.userName type=text autofocus class=form-control id=username placeholder=Email required></div></div><div class=form-group><div class=input-group><div class=input-group-addon><i class="fa fa-key fa-fw"></i></div><input data-ng-model=loginData.password type=password class=form-control id=password placeholder=Password required></div></div><div class="form-group login-btn"><p><a href=# data-ui-sref=forgot>Forgot Password</a></p><button class="btn btn-success" type=button data-ng-disabled="loginForm.$invalid || loading" data-ng-click=signIn()>{{loading?"Please Wait...":"Sign In"}}</button></div></form></div></div>'),a.put("package/package-modal.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} {{type}} Package</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class=widget-content><form name=packageForm novalidate><div class=row><div class=col-md-3><div class=form-group><label>Package Code</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.packageCode></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=package.packageCode></div></div><div class=col-md-3><div class=form-group><label>Basic Amount</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.basicAmt></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=package.basicAmt></div></div><div class=col-md-3><div class=form-group><label>Minimum KM</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.kmRate.minKm></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=package.kmRate.minKm></div></div><div class=col-md-3><div class=form-group><label>Extra KM rate</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.kmRate.extraKm></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=package.kmRate.extraKm></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>Minimum Hours</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.hrRate.minHr></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=package.hrRate.minHr></div></div><div class=col-md-3><div class=form-group><label>Extra Hour rate</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.hrRate.extraHr></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=package.hrRate.extraHr></div></div><div class=col-md-3><div class=form-group><label>Comments</label> <span data-ng-if=hideView class=view-value data-ng-bind=package.comments></span> <textarea data-ng-if=!hideView class=form-control data-ng-model=package.comments></textarea></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-disabled="!packageForm.$dirty || !packageForm.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form></div></div>'),a.put("package/package.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=package.local>Local</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=package.out>out <span class=hidden-xs>station</span></a></li><li data-ui-sref-active=active><a href=# data-ui-sref=package.fix>fixed</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),a.put("register/register.html",'<div class="widget register"><div class=widget-header><div class=pull-left><i class="fa fa-list"></i> Registration - Step 1</div></div><div class=widget-content><div class="row flow"><div class=col-sm-3><span>1</span> <i class="fa fa-check"></i> Basic Information</div><div class=col-sm-3><span>2</span> <i class="fa fa-check"></i> Your Profile</div><div class=col-sm-3><span>3</span> <i class="fa fa-check"></i> Choose a Plan</div><div class=col-sm-3><span>4</span> <i class="fa fa-check"></i> Confirmation</div></div><div class=progress><div class="progress-bar progress-bar-success" role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100 style=width:25%></div></div></div></div>'),a.put("party/party-modal.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} {{type}}</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class=widget-content><form name=partyForm novalidate><div class=row><div class=col-md-3><div class=form-group><label>Party Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=party.name></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=party.name></div></div><div class=col-md-3><div class=form-group><label>Party Address</label> <span data-ng-if=hideView class=view-value data-ng-bind=party.address></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=party.address></div></div><div class=col-md-3><div class=form-group><label>Party Contact</label> <span data-ng-if=hideView class=view-value data-ng-bind=party.contact></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=party.contact></div></div><div class=col-md-3><div class=form-group><label>Party Email</label> <span data-ng-if=hideView class=view-value data-ng-bind=party.email></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=party.email></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>Comments</label> <span data-ng-if=hideView class=view-value data-ng-bind=party.comments></span> <textarea data-ng-if=!hideView class=form-control data-ng-model=party.comments></textarea></div></div></div><div class=section-title data-ng-if="type==\'operator\'">Operator Vehicles</div><div class=operator-vehicle-list data-ng-if="hideView && type==\'operator\'"><table><tr><th>Sr. No</th><th>Name</th><th>Number</th></tr><tr data-ng-repeat="v in party.vehicle"><td>{{$index+1}}</td><td>{{v.name}}</td><td>{{v.number}}</td></tr></table></div><div class=operator-vehicle data-ng-repeat="v in party.vehicle" data-ng-show=!hideView data-ng-if="type==\'operator\'"><input type=text class=form-control placeholder=NAME data-ng-model=party.vehicle[$index].name> <input type=text class=form-control placeholder=NUMBER data-ng-model=party.vehicle[$index].number> <button type=button class="btn btn-success" data-ng-click=addNewVehicle() data-ng-if=$last><i class="fa fa-plus"></i></button> <button type=button class="btn btn-danger" data-ng-click=removeVehicle($index) data-ng-if=!$last><i class="fa fa-close"></i></button></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-disabled="!partyForm.$dirty || !partyForm.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form></div></div>'),a.put("party/party.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=party.client>Client</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=party.operator>Operators</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),a.put("payment/payment.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=payment.fixed>Fixed</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=payment.client>Client</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=payment.indirect>Indirect</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=payment.operator>Operator</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=payment.driver>Driver</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),a.put("request/request.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=request.regular>Regular</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=request.fixed>Fixed</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=request.all>All</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),a.put("summary/summary.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=summary.vehicle>Vehicle</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=summary.driver>Driver</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),a.put("vehicle/vehicle-modal.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} {{type}} Vehicle</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class=widget-content><div class=request-flow data-ng-if="type==\'own\'"><ul><li data-ng-class=\'{"active":vehicleView}\'>1. Vehicle Details</li><li data-ng-class=\'{"active":!vehicleView}\'>2. Document Details</li></ul></div><form name=vehicleForm novalidate data-ng-show=vehicleView><div class=row><div class=col-md-3><div class=form-group><label>Owner Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.vehicleOwner></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=vehicle.vehicleOwner required></div></div><div class=col-md-3><div class=form-group><label>Vehicle Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.vehicleName></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=vehicle.vehicleName required></div></div><div class=col-md-3><div class=form-group><label>Vehicle No.</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.vehicleNo></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=vehicle.vehicleNo required></div></div><div class=col-md-3><div class=form-group><label>Vehicle Type</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.vehicleType></span><div data-ng-if=!hideView class=btn-group><button class="btn btn-default" data-ng-class=\'{active:vehicle.vehicleType=="Car"}\' data-ng-click=\'vehicle.vehicleType="Car"\'>Car</button> <button class="btn btn-default" data-ng-class=\'{active:vehicle.vehicleType=="XL"}\' data-ng-click=\'vehicle.vehicleType="XL"\'>XL</button> <button class="btn btn-default" data-ng-class=\'{active:vehicle.vehicleType=="Bus"}\' data-ng-click=\'vehicle.vehicleType="Bus"\'>Bus</button></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>No. of Seats</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.vehicleNo></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=vehicle.seats required></div></div><div class=col-md-3><div class=form-group><label>AC</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.AC></span><div data-ng-if=!hideView class=btn-group><button class="btn btn-default" data-ng-class=\'{active:vehicle.AC=="Yes"}\' data-ng-click=\'vehicle.AC="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:vehicle.AC=="No"}\' data-ng-click=\'vehicle.AC="No"\'>No</button></div></div></div><div class=col-md-3 data-ng-if="type==\'own\'"><div class=form-group><label>Loan</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.selectLoan></span><div data-ng-if=!hideView class=btn-group><button class="btn btn-default" data-ng-class=\'{active:vehicle.selectLoan=="Yes"}\' data-ng-click=\'vehicle.selectLoan="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:vehicle.selectLoan=="No"}\' data-ng-click=\'vehicle.selectLoan="No"\'>No</button></div></div></div><div class=col-md-3><div class=form-group><label>Monthly Fixed</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.selectFixed></span><div data-ng-if=!hideView class=btn-group><button class="btn btn-default" data-ng-class=\'{active:vehicle.selectFixed=="Yes"}\' data-ng-click=\'vehicle.selectFixed="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:vehicle.selectFixed=="No"}\' data-ng-click=\'vehicle.selectFixed="No"\'>No</button></div></div></div></div><div class=section-title data-ng-if=\'vehicle.selectLoan=="Yes"\'>Loan Details</div><div class=row data-ng-if=\'vehicle.selectLoan=="Yes"\'><div class=col-md-3><div class=form-group><label>Loan Disbursement Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="vehicle.loan.loanDisbursementDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=vehicle.loan.loanDisbursementDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.loanDate ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'loanDate\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Loan Amount</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.loan.loanAmt></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=vehicle.loan.loanAmt required></div></div><div class=col-md-3><div class=form-group><label>Loan Tenure (Year)</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.loan.loanTenure></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=vehicle.loan.loanTenure required></div></div><div class=col-md-3><div class=form-group><label>EMI Amount</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.loan.emiAmt></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=vehicle.loan.emiAmt required></div></div></div><div class=row data-ng-if=\'vehicle.selectLoan=="Yes"\'><div class=col-md-3><div class=form-group><label>Finance From</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.loan.financeFrom></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=vehicle.loan.financeFrom required></div></div><div class=col-md-3><div class=form-group><label>Monthly EMI Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="vehicle.loan.emiDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=vehicle.loan.emiDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.emiDate ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'emiDate\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div></div><div class=section-title data-ng-if=\'vehicle.selectFixed=="Yes"\'>Company Details</div><div class=row data-ng-if=\'vehicle.selectFixed=="Yes"\'><div class=col-md-3><div class=form-group><label>Party Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.fixed.companyName></span><select required class=form-control data-ng-if=!hideView data-ng-model=vehicle.fixed.companyName><option value>Select Party</option><option ng-repeat="p in partyList" value={{p.name}}>{{p.name}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Party Address</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.fixed.companyAdd></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=vehicle.fixed.companyAdd required></div></div><div class=col-md-3><div class=form-group><label>Office Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.fixed.officeName></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=vehicle.fixed.officeName required></div></div><div class=col-md-3><div class=form-group><label>Package to Party</label> <span data-ng-if=hideView class=view-value data-ng-bind=vehicle.fixed.package></span><select required class=form-control data-ng-if=!hideView data-ng-model=vehicle.fixed.package><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div></div><div class=row data-ng-if=\'vehicle.selectFixed=="Yes"\'><div class=col-md-3><div class=form-group><label>Contract Start Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="vehicle.fixed.contractStartDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=vehicle.fixed.contractStartDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.ctStartDate ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'ctStartDate\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Contract End Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="vehicle.fixed.contractEndDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=vehicle.fixed.contractEndDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.ctEndDate ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'ctEndDate\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button data-ng-if="type==\'own\'" class="btn btn-primary pull-right" data-ng-click=switchView()>Next</button> <button data-ng-if="action!==\'view\' && type==\'other\'" class="btn btn-success pull-right" data-ng-disabled="!vehicleForm.$dirty || !vehicleForm.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form><form name=vehicleDoc novalidate data-ng-show=!vehicleView><div class=row data-ng-repeat="(key,value) in vehicle.documents"><div class="col-md-3 doc-title"><label>{{key}}</label></div><div class=col-md-3><div class=form-group><label>Start Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="value.startDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=value.startDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar[key] ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=openCalendar(key)><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>End Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="value.endDate | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=value.endDate show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=endCalendar[key] ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=openEndCalendar(key)><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Amount</label> <span data-ng-if=hideView class=view-value data-ng-bind=value.amt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=value.amt></div></div></div><div class=modal-footer><button class="btn btn-default active pull-left" data-ng-click=switchView()>Back</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-disabled="!vehicleDoc.$dirty || !vehicleDoc.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form></div></div>'),a.put("vehicle/vehicle.html","<div class=widget><div class=widget-header><div class=tabs><ul><li data-ui-sref-active=active><a href=# data-ui-sref=vehicle.own>Own</a></li><li data-ui-sref-active=active><a href=# data-ui-sref=vehicle.other>Other</a></li></ul></div></div><div class=widget-content><div data-ui-view></div></div></div>"),
a.put("expense/driver/add-driver-expense.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} Driver Expense</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class=widget-content><form name=driverExpenseForm><div class=row><div class=col-md-3><div class=form-group><label>Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="expense.date | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=expense.date show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy readonly is-open=calendar.open ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=openCalendar()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.driver></span><select data-ng-if=!hideView class=form-control data-ng-model=expense.driver><option value>Select Driver</option><option data-ng-repeat="d in driverList">{{d.name}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Self Advanced</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.expenseAmt></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=expense.expenseAmt></div></div><div class=col-md-3><div class=form-group><label>Toll Advanced</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.tollExpenseAmt></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=expense.tollExpenseAmt></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>Comments</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.comments></span> <textarea data-ng-if=!hideView class=form-control data-ng-model=expense.comments></textarea></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-disabled="!driverExpenseForm.$dirty || !driverExpenseForm.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form></div><div></div></div>'),a.put("expense/driver/driver-expense.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Driver Expense</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newExpense()>New Expense</button></div></div><div class=grid-actionbar data-ng-if=!loading><div class=row><div class=col-md-7><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.driver><option value>Select Driver</option><option data-ng-repeat="d in driverList">a{{d.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><button type=button class="btn btn-primary" data-ng-click=applyFilter()>Apply</button> <button type=button class="btn btn-primary" data-ng-click=clearFilter()>Clear</button></form></div><div class=col-md-5><form class="form-inline export"><div class=form-group><input type=text class=form-control placeholder="Global Search" data-ng-model=globalSearch></div><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Date</th><th>Driver</th><th data-hide=phone>Self Advanced</th><th data-hide=phone>Toll Advanced</th><th>Total Advanced</th><th data-hide=phone,tablet>Comments</th><th data-hide=phone class=td-actions>Action</th></tr></thead><tbody><tr data-ng-if=loading><td colspan=8><p class=loader>Please Wait...</p></td></tr><tr data-ng-if="data.length===0 && !loading"><td colspan=8><p class=loader>0 Record Found.</p></td></tr><tr ng-repeat="d in data.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:globalSearch" data-responsive-grid><td class=srNo>{{((currentPage-1)*itemsPerPage)+$index+1}}</td><td data-ng-bind=\'d.date | date:"dd-MMM-yyyy"\'></td><td data-ng-bind=d.driver></td><td><i class="fa fa-rupee"></i> {{d.expenseAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.tollExpenseAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{(d.expenseAmt+d.tollExpenseAmt) | number:\'2\'}}/-</td><td data-ng-bind=d.comments></td><td class=td-actions><div class=btn-group><button title=View data-ng-click=viewRequest(localEnv?d._id:d._id.$oid) class="btn btn-primary"><i class="fa fa-eye"></i></button> <button title=Edit data-ng-click=editRequest(localEnv?d._id:d._id.$oid) class="btn btn-success"><i class="fa fa-edit"></i></button> <button title=Delete data-ng-click=deleteRequest(localEnv?d._id:d._id.$oid) class="btn btn-danger"><i class="fa fa-trash"></i></button></div></td></tr></tbody></table></div><div class=grid-pager data-ng-show="data.length>1"><uib-pagination total-items=totalItems max-size=maxSize ng-model=currentPage force-ellipses=true class=pagination-sm items-per-page=itemsPerPage boundary-link-numbers=true previous-text=&lsaquo; next-text=&rsaquo;></uib-pagination></div></div>'),a.put("expense/vehicle/add-vehicle-expense.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} Vehicle Expense</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class=widget-content><form name=driverForm novalidate><div class=row><div class=col-md-3><div class=form-group><label>Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="expense.date | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=expense.date show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy readonly is-open=calendar.open ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=openCalendar()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Expense Type</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.expenseName></span><select data-ng-if=!hideView class=form-control data-ng-model=expense.expenseName><option value>Select Type</option><option value=fuel>Fuel</option><option value=maintenance>Maintenance</option><option value=other>Other</option></select></div></div><div class=col-md-3><div class=form-group><label>Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.vehicle></span><select data-ng-if=!hideView class=form-control data-ng-model=expense.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Payment Mode</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.paymentMode></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button data-ng-class="{active:expense.paymentMode==\'cash\'}" class="btn btn-default" data-ng-click=\'expense.paymentMode="cash"\'>Cash</button> <button data-ng-class="{active:expense.paymentMode==\'credit\'}" class="btn btn-default" data-ng-click=\'expense.paymentMode="credit"\'>Credit</button> <button data-ng-class="{active:expense.paymentMode==\'cheque\'}" class="btn btn-default" data-ng-click=\'expense.paymentMode="cheque"\'>Cheque</button></div></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>Location</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.location></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=expense.location></div></div><div class=col-md-3><div class=form-group><label>Expense Amount</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.expenseAmt></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=expense.expenseAmt></div></div><div class=col-md-3 data-ng-if=\'expense.expenseName=="fuel"\'><div class=form-group><label>Fuel Rate</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.fuelRate></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=expense.fuelRate></div></div><div class=col-md-3 data-ng-if=\'expense.expenseName=="fuel"\'><div class=form-group><label>Current KM</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.currKm></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=expense.currKm></div></div></div><div class=row><div class=col-md-3 data-ng-if="expense.paymentMode==\'credit\'"><div class=form-group><label>Credit Card Number</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.credit.cardName></span> <input data-ng-if=!hideView class=form-control type=number data-ng-model=expense.credit.cardName></div></div><div class=col-md-3 data-ng-if="expense.paymentMode==\'cheque\'"><div class=form-group><label>Bank Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.cheque.bankName></span> <input data-ng-if=!hideView class=form-control data-ng-model=expense.cheque.bankName></div></div><div class=col-md-3><div class=form-group><label>Comments</label> <span data-ng-if=hideView class=view-value data-ng-bind=expense.comments></span> <textarea data-ng-if=!hideView class=form-control data-ng-model=expense.comments></textarea></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-disabled="!driverForm.$dirty || !driverForm.$valid || loading" data-ng-click=submitRequest()>{{loading?"Please Wait...":"Submit"}}</button></div></form></div><div></div></div>'),a.put("expense/vehicle/vehicle-expense.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Vehicle Expense</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newExpense()>New Expense</button></div></div><div class=grid-actionbar data-ng-if=!loading><div class=row><div class=col-md-7><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><button type=button class="btn btn-primary" data-ng-click=applyFilter()>Apply</button> <button type=button class="btn btn-primary" data-ng-click=clearFilter()>Clear</button></form></div><div class=col-md-5><form class="form-inline export"><div class=form-group><input type=text class=form-control placeholder="Global Search" data-ng-model=globalSearch></div><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Date</th><th data-hide=phone>Expense Type</th><th data-hide=phone,tablet>Location</th><th>Vehicle</th><th>Expense Amt</th><th data-hide=phone,tablet>Payment Mode</th><th data-hide=phone,tablet>Comments</th><th data-hide=phone class=td-actions>Action</th></tr></thead><tbody><tr ng-repeat="e in data.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:globalSearch" data-responsive-grid><td class=srNo>{{((currentPage-1)*itemsPerPage)+$index+1}}</td><td data-ng-bind=\'e.date | date:"dd-MMM-yyyy"\'></td><td><div data-ng-if=\'e.expenseName=="fuel"\'>Fuel (<strong>{{e.fuelRate | number:\'2\'}} Lit</strong>)<p><strong>Vehicle KM :</strong> {{e.currKm}}</p></div><div data-ng-if=\'e.expenseName!=="fuel"\'>{{e.expenseName}}</div></td><td data-ng-bind=e.location></td><td data-ng-bind=e.vehicle></td><td><i class="fa fa-rupee"></i> {{e.expenseAmt | number:\'2\'}}/-</td><td><div data-ng-if=\'e.paymentMode=="cash"\'>Cash</div><div data-ng-if=\'e.paymentMode=="credit"\'><strong>Credit Card :</strong> {{e.credit.cardName}}</div><div data-ng-if=\'e.paymentMode=="cheque"\'><strong>Cheque :</strong> {{e.cheque.bankName}}</div></td><td data-ng-bind=e.comments></td><td class=td-actions><div class=btn-group><button type=button title=View data-ng-click=viewRequest(localEnv?e._id:e._id.$oid) class="btn btn-primary"><i class="fa fa-eye"></i></button> <button type=button title=Edit data-ng-click=editRequest(localEnv?e._id:e._id.$oid) class="btn btn-success"><i class="fa fa-edit"></i></button> <button type=button title=Delete data-ng-click=deleteRequest(localEnv?e._id:e._id.$oid) class="btn btn-danger"><i class="fa fa-trash"></i></button></div></td></tr></tbody></table></div><div class=grid-pager data-ng-show="data.length>1"><uib-pagination total-items=totalItems max-size=maxSize ng-model=currentPage force-ellipses=true class=pagination-sm items-per-page=itemsPerPage boundary-link-numbers=true previous-text=&lsaquo; next-text=&rsaquo;></uib-pagination></div></div>'),a.put("common/modal/deleteConfirmation.html",'<div class=widget><div class=widget-header><div class=pull-left>Delete Confirmation</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class="widget-content notification"><span class=text-center>Do you want to delete the record ?</span><p><button type=button data-ng-click=onConfirm() class="btn btn-primary">Yes</button> <button type=button data-ng-click=closeModal() class="btn btn-danger">No</button></p></div></div>'),a.put("common/modal/message.html",'<div class=widget><div class=widget-header><div class=pull-left data-ng-bind=msg.title></div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class="widget-content notification"><span class={{msg.type}}>{{msg.text}}</span><p><button type=button data-ng-click=closeModal() class="btn btn-primary">OK</button></p></div></div>'),a.put("package/fix/fix-package.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Fixed Packages</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newPackage()>New Package</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>'),a.put("package/local/local-package.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Local Packages</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newPackage()>New Package</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>'),a.put("package/out/out-package.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Out Station Packages</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newPackage()>New Package</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>'),a.put("party/client/client.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Regular Clients</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newParty()>New Client</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>'),a.put("party/operator/operator.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Regular Operator</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newOperator()>New Operator</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>'),a.put("payment/client/client-payment.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Client Payment</h3><div class=pull-right data-ng-if="data.length>0"><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span></div></div><div class=grid-actionbar><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.party><option value>Select Party</option><option data-ng-repeat="p in partyList">{{p.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button data-ng-click=calculatePayment() type=button class="btn btn-primary" data-ng-disabled=!filter.party>Calculate Payment</button></form></div><div class=col-md-4><form class="form-inline export" data-ng-if="data.length>0"><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="!data && !loading" class=loader>Please select a party for which you want to see the payment and click on "Calculate Payment" button.</div><div data-ng-if="data.length==0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Date</th><th data-hide=phone,tablet>Request Type</th><th data-hide=phone>Vehicle</th><th data-hide=phone,tablet>Trip Amount</th><th data-hide=phone,tablet>Toll Amount</th><th data-hide=phone,tablet>Parking Amount</th><th>Total Amount</th></tr></thead><tbody><tr data-ng-repeat="d in data" data-responsive-grid><td class=srNo>{{$index+1}}</td><td data-ng-bind=\'d.startTrip.date | date:"dd-MMM-yyyy"\'></td><td data-ng-bind="\'{{d.requestType===\'local\'?\'local\':\'Out Station\'}}\'"></td><td data-ng-bind="\'{{d.vehicleSelect===\'own\'?d.vehicle.vehicle:d.vehicleSelect===\'indirect\'?d.inDirect.vehicle:d.agency.vehicleName}}\'"></td><td><i class="fa fa-rupee"></i> {{d.totalAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.tollAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.parkingAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.totalAmt+p.tollAmt+p.parkingAmt | number:\'2\'}}/-</td></tr></tbody></table></div><div class=trip-calculation data-ng-if="data.length>0"><div class=calc-data><table><tr><td>{{filter.month}} {{filter.year}} Total Amount :</td><td><i class="fa fa-rupee"></i> <span>{{partyTotal | number:\'2\'}}</span>/-</td></tr></table></div><div class=form-action><button type=button class="btn btn-warning" data-ng-click=generateFixedBill()><i class="fa fa-list"></i> Generate Bill</button></div></div></div>'),a.put("payment/driver/driver-payment.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Driver Salary - {{filter.month}} {{filter.year}}</h3></div><div class=grid-actionbar><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button data-ng-click=calculatePayment() type=button class="btn btn-primary">Calculate Salary</button></form></div><div class=col-md-4><form class="form-inline export" data-ng-if="data.length>0"><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Driver Name</th><th>Base Salary</th><th data-hide=phone,tablet>Local Req. #</th><th data-hide=phone,tablet>Out Req. #</th><th data-hide=phone,tablet>Total D. A.</th><th data-hide=phone,tablet>Total Advanced</th><th>Total Salary</th></tr></thead><tbody><tr data-ng-repeat="d in data" data-responsive-grid><td>{{$index+1}}</td><td data-ng-bind=d.name></td><td><i class="fa fa-rupee"></i> {{d.salary | number:\'2\'}}/-</td><td data-ng-bind=d.localRequest></td><td data-ng-bind=d.outRequest></td><td><i class="fa fa-rupee"></i> {{(d.allowance+d.fixrequestAmt) | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.advanceAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.totalSalary | number:\'2\'}}/-</td></tr></tbody></table></div></div>'),a.put("payment/fixed/fixed-payment.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Fixed Vehicle Payment</h3><div class=pull-right data-ng-if="data.length>0"><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span></div></div><div class=grid-actionbar><div class=row><div class=col-md-10><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.party><option value>Select Party</option><option data-ng-repeat="p in partyList">{{p.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button data-ng-click=calculatePayment() type=button class="btn btn-primary" data-ng-disabled="!(filter.party && filter.vehicle)">Calculate Payment</button></form></div><div class=col-md-2><form class="form-inline export" data-ng-if="data.length>0"><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="!data && !loading" class=loader>Please select a party and vehicle for which you want to see the payment and click on "Calculate Payment" button.</div><div data-ng-if="data.length==0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Date</th><th data-hide=phone,tablet>Request Type</th><th>Trip KM</th><th>Extra Hours</th><th data-hide=phone,tablet>Driver Allowance</th><th data-hide=phone,tablet>Night Halt</th><th data-hide=phone,tablet>Toll Amount</th><th data-hide=phone,tablet>Parking Amount</th></tr></thead><tbody><tr data-ng-repeat="d in data" data-responsive-grid><td>{{$index+1}}</td><td data-ng-bind=\'d.date | date:"dd-MMM-yyyy"\'></td><td data-ng-bind="\'{{d.requestType===\'local\'?\'local\':\'Out Station\'}}\'"></td><td>{{d.totalKm}} KM</td><td>{{d.extraHr}} Hr</td><td><i class="fa fa-rupee"></i> {{d.diverAllowanceAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.nightHaltAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.tollAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.parkingAmt | number:\'2\'}}/-</td></tr></tbody><tfoot><tr class=tableFooter data-ng-if="fixedData.length!==0"><td>Total</td><td></td><td></td><td>{{allData.totalKm | number}} KM</td><td>{{allData.extraHr}} Hr</td><td><i class="fa fa-rupee"></i> {{allData.DAAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{allData.nightHaltAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{allData.tollAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{allData.parkingAmt | number:\'2\'}}/-</td></tr></tfoot></table></div><div class=trip-calculation data-ng-if="data.length>0"><div class=calc-data><table><tr><td>{{filter.month}} {{filter.year}} Total Amount :</td><td><i class="fa fa-rupee"></i> <span>{{allData.monthTotal | number:\'2\'}}</span>/-</td></tr></table></div><div class=form-action><button type=button class="btn btn-warning" data-ng-click=generateFixedBill()><i class="fa fa-list"></i> Generate Bill</button></div></div></div>'),a.put("payment/indirect/indirect-payment.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Indirect Vehicle Payment</h3><div class=pull-right data-ng-if="data.length>0"><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span></div></div><div class=grid-actionbar><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button data-ng-click=calculatePayment() type=button class="btn btn-primary" data-ng-disabled=!filter.vehicle>Calculate Payment</button></form></div><div class=col-md-4><form class="form-inline export" data-ng-if="data.length>0"><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="!data && !loading" class=loader>Please select a vehicle for which you want to see the payment and click on "Calculate Payment" button.</div><div data-ng-if="data.length==0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Date</th><th data-hide=phone,tablet>Request Type</th><th data-hide=phone,tablet>Trip Amount</th><th data-hide=phone,tablet>Toll Amount</th><th data-hide=phone,tablet>Parking Amount</th><th>Total Amount</th></tr></thead><tbody><tr data-ng-repeat="d in data" data-responsive-grid><td>{{$index+1}}</td><td data-ng-bind=\'d.date?d.date:d.startTrip.date | date:"dd-MMM-yyyy"\'></td><td data-ng-bind="\'{{d.requestType===\'local\'?\'local\':\'Out Station\'}}\'"></td><td><i class="fa fa-rupee"></i> {{d.totalAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.tollAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.parkingAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.totalAmt+i.tollAmt+i.parkingAmt | number:\'2\'}}/-</td></tr></tbody></table></div><div class=trip-calculation data-ng-if="data.length>0"><div class=calc-data><table><tr><td>{{filter.month}} {{filter.year}} Total Amount :</td><td><i class="fa fa-rupee"></i> <span>{{indirectTotal | number:\'2\'}}</span>/-</td></tr></table></div><div class=form-action><button type=button class="btn btn-warning" data-ng-click=generateFixedBill()><i class="fa fa-list"></i> Generate Bill</button></div></div></div>'),a.put("payment/operator/operator-payment.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Operator Payment - {{filter.month}} {{filter.year}}</h3></div><div class=grid-actionbar><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button data-ng-click=calculatePayment() type=button class="btn btn-primary">Calculate Payment</button></form></div><div class=col-md-4><form class="form-inline export" data-ng-if="data.length>0"><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Operator Name</th><th data-hide=phone,tablet>Out Bound Requests</th><th data-hide=phone,tablet>In Bound Requests</th><th data-hide=phone>Payment In</th><th data-hide=phone>Payment Out</th><th>Difference</th><th>Action</th></tr></thead><tbody><tr data-ng-repeat="d in data" data-responsive-grid><td>{{$index+1}}</td><td data-ng-bind=d.name></td><td data-ng-bind=d.totalInReq></td><td data-ng-bind=d.totalOutReq></td><td><i class="fa fa-rupee"></i> {{d.paymentIn | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.paymentOut | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{d.diff | number:\'2\'}}/-</td><td class=payDetail><button type=button class="btn btn-primary" data-ng-click=getOperatorDetail(d._id,d.name)>Details</button></td></tr></tbody></table></div></div>'),
a.put("request/all/all-request.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>All Request</h3><div class=pull-right><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span></div></div><div class=grid-actionbar data-ng-show=!loading><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><div class=btn-group><button class="btn btn-default" data-ng-class=\'{active:filter.type=="party"}\' data-ng-click=\'filter.type="party"\'>Party</button> <button class="btn btn-default" data-ng-class=\'{active:filter.type=="vehicle"}\' data-ng-click=\'filter.type="vehicle"\'>Vehicle</button> <button class="btn btn-default" data-ng-class=\'{active:filter.type=="driver"}\' data-ng-click=\'filter.type="driver"\'>Driver</button></div></div><div class=form-group data-ng-if=\'filter.type=="party"\'><select class=form-control data-ng-model=filter.party><option value>Select Party</option><option data-ng-repeat="p in partyList">{{p.name}}</option></select></div><div class=form-group data-ng-if=\'filter.type=="vehicle"\'><select class=form-control data-ng-model=filter.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div><div class=form-group data-ng-if=\'filter.type=="driver"\'><select class=form-control data-ng-model=filter.driver><option value>Select Driver</option><option data-ng-repeat="d in driverList">{{d.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><button data-ng-click=applyFilter() type=button class="btn btn-primary">Apply</button> <button data-ng-click=clearFilter() type=button class="btn btn-primary">Clear</button></form></div><div class=col-md-4><form class="form-inline export"><div class=form-group><input type=text class=form-control placeholder="Global Search" data-ng-model=globalSearch></div><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand class=srNo>Sr No.</th><th>Date</th><th>Request</th><th data-hide=phone,tablet>Request Type</th><th data-hide=phone,tablet>Client Name</th><th data-hide=phone>Vehicle</th><th data-hide=phone>Driver</th><th>Total KM</th><th data-hide=phone class=td-actions>Action</th></tr></thead><tbody><tr ng-repeat="a in data.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:globalSearch" data-responsive-grid><td class=srNo>{{((currentPage-1)*itemsPerPage)+$index+1}}</td><td data-ng-bind="a.date | date:\'dd-MMM-yyyy\'"></td><td data-ng-bind=a.request></td><td data-ng-bind=a.requestType></td><td data-ng-bind=a.client></td><td data-ng-bind=a.vehicle></td><td data-ng-bind=a.driver></td><td data-ng-bind="\'{{a.totalKm}}\'+\' KM\'"></td><td class=td-actions><div class=btn-group><button title=View data-ng-click=viewRequest(a.request,a._id) class="btn btn-primary"><i class="fa fa-eye"></i></button> <button title=Edit data-ng-click=editRequest(a.request,a._id) class="btn btn-success"><i class="fa fa-edit"></i></button> <button title=Delete data-ng-click=deleteRequest(a.request,a._id) class="btn btn-danger"><i class="fa fa-trash"></i></button></div></td></tr></tbody></table><div class=grid-pager data-ng-show="data.length>1"><uib-pagination total-items=totalItems max-size=maxSize ng-model=currentPage force-ellipses=true class=pagination-sm items-per-page=itemsPerPage boundary-link-numbers=true previous-text=&lsaquo; next-text=&rsaquo;></uib-pagination></div></div></div>'),a.put("request/fixed/add-fixed-request.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} Fixed request</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class="widget-content new-request"><div class=request-flow><ul><li data-ng-class=\'{"active":request}\'>1. Request Details</li><li data-ng-class=\'{"active":!request}\'>2. Time &amp; Material <span class=hidden-xs>Details</span></li></ul></div><div class=request-detail data-ng-if=request><form name=request-form novalidate><div class=row><div class=col-md-3><div class=form-group><label>Request Type</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.requestType==\'out\'?\'Out Station\':\'Local\'"></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button data-ng-class="{active:requestData.requestType==\'local\'}" class="btn btn-default" data-ng-click=\'requestData.requestType="local"\'>Local</button> <button data-ng-class="{active:requestData.requestType==\'out\'}" class="btn btn-default" data-ng-click=\'requestData.requestType="out"\'>Out Station</button></div></div></div><div class=col-md-3><div class=form-group><label>Select Party</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.partyName></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.partyName><option value>Select Party</option><option ng-repeat="p in partyList" value={{p.name}}>{{p.name}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Regular vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.regularVehicle></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button data-ng-class="{active:requestData.regularVehicle==\'own\'}" class="btn btn-default" data-ng-click=\'requestData.regularVehicle="own"\'>Own</button> <button data-ng-class="{active:requestData.regularVehicle==\'indirect\'}" class="btn btn-default" data-ng-click=\'requestData.regularVehicle="indirect"\'>Indirect</button></div></div></div><div class=col-md-3><div class=form-group><label>Daily Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicle></span><select class=form-control data-ng-model=requestData.vehicle data-ng-if="regularVehicleList.length>1"><option value>Select Vehicle</option><option data-ng-repeat="v in regularVehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select><strong data-ng-if="regularVehicleList.length==1">{{requestData.vehicle}}</strong></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>User Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.user></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=requestData.user></div></div><div class=col-md-3><div class=form-group><label>Vehicle Provided</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicleSelect></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.vehicleSelect><option value=daily>Daily</option><option value=own>Own</option><option value=indirect>Indirect</option><option value=operator>Operator</option><option value=other>Other</option></select></div></div><div class=col-md-3 data-ng-if="(requestData.regularVehicle==\'own\' && requestData.vehicleSelect==\'daily\') || (requestData.regularVehicle==\'own\' && requestData.vehicleSelect==\'own\') || (requestData.regularVehicle==\'indirect\' && requestData.vehicleSelect==\'own\')"><div class=form-group><label>Select Driver</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.driver></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.driver><option value>Select Driver</option><option data-ng-repeat="d in driverList">{{d.name}}</option></select></div></div><div class=col-md-3 data-ng-if=\'requestData.requestType=="out"\'><div class=form-group><label>Location</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.location></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=requestData.location></div></div></div><div class=section-title data-ng-if="requestData.vehicleSelect!==\'daily\'">Vehicle &amp; Package Details</div><div class=row data-ng-if="requestData.vehicleSelect==\'own\'"><div class=col-md-3><div class=form-group><label>Select Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.own.vehicle></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.own.vehicle><option value>Select Vehicle</option><option class=form-control data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'indirect\'"><div class=col-md-3><div class=form-group><label>Select Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.vehicle></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.inDirect.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in oVehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Package From Owner</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.ownerPackage></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.inDirect.ownerPackage><option value>Select Package</option><option data-ng-repeat="p in packageList">{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.driver></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=requestData.inDirect.driver></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'operator\'"><div class=col-md-3><div class=form-group><label>Select Operator</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.operatorName></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.operator.operatorName><option value>Select Operator</option><option data-ng-repeat="o in operatorList">{{o.name}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Select Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.vehicle></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.operator.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in operatorVehicleList">{{v.name}},{{v.number}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.driver></span> <input data-ng-if=!hideView class=form-control type=text data-ng-model=requestData.operator.driver></div></div><div class=col-md-3><div class=form-group><label>Package From Operator</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.operatorPackage></span><select data-ng-if=!hideView class=form-control data-ng-model=requestData.operator.operatorPackage><option value>Select Package</option><option data-ng-repeat="o in packageList">{{o.packageCode}}</option></select></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'other\'"><div class=col-md-3><div class=form-group><label>Agency Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.agencyName></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.agency.agencyName></div></div><div class=col-md-3><div class=form-group><label>Agency Contact</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.agencyContact></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=requestData.agency.agencyContact></div></div><div class=col-md-3><div class=form-group><label>Vehicle Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.vehicleName></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.agency.vehicleName></div></div><div class=col-md-3><div class=form-group><label>Vehicle No</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.vehicleNo></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.agency.vehicleNo></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'other\'"><div class=col-md-3><div class=form-group><label>Package From Agency</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.agencyPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.agency.agencyPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.driver></span> <input data-ng-if=!hideView required class=form-control type=text data-ng-model=requestData.agency.driver></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button class="btn btn-primary pull-right" data-ng-click=switchView()>Next</button></div></form></div><div class=time-detail data-ng-if=!request><form name=time-form novalidate><div class=row><div class=col-md-3><div class=form-group><label>Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.date | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=requestData.date show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.date ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'date\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Opening KM</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.openingKm></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.openingKm></div></div><div class=col-md-3><div class=form-group><label>Closing KM</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.closingKm></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.closingKm></div></div><div class=col-md-3><div class=form-group><label>Extra Hours</label> <span class=view-value data-ng-bind=requestData.extraHr></span></div></div></div><div class=row><div class=col-md-3><div class=form-group><label class=time-label>Start Time</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.startTime | date:\'shortTime\'"></span><uib-timepicker data-ng-if=!hideView ng-model=requestData.startTime show-meridian=true></uib-timepicker></div></div><div class=col-md-3><div class=form-group><label class=time-label>End Time</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.endTime | date:\'shortTime\'"></span><uib-timepicker data-ng-if=!hideView ng-model=requestData.endTime show-meridian=true></uib-timepicker></div></div><div class=col-md-3><div class=form-group><label>Total KM</label> <button data-ng-click=calculateTotalKm() data-ng-if=!hideView type=button data-ng-disabled="requestData.closingKm<=0 || requestData.openingKm<=0" class="btn btn-primary calc-btn"><i class="fa fa-calculator"></i> KM</button> <span class=view-value data-ng-bind=requestData.totalKm></span></div></div><div class=col-md-3><div class=form-group><label>Total Hours</label> <button data-ng-click=calculateTotalHr() data-ng-if=!hideView type=button class="btn btn-primary calc-btn" data-ng-disabled="!requestData.date || !requestData.startTime || !requestData.endTime"><i class="fa fa-calculator"></i> Hr</button> <span class=view-value data-ng-bind=requestData.totalHr></span></div></div></div><div class=section-title>Miscellaneous Details</div><div class=row><div class=col-md-3 data-ng-if="requestData.requestType==\'out\'"><div class=form-group><label>Advance Amt from client</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.advanceAmt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.advanceAmt></div></div><div class=col-md-3 data-ng-if="requestData.requestType==\'out\'"><div class=form-group><label>Driver Allowance</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.driverAllowance></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.driverAllowance></div></div><div class=col-md-3><div class=form-group><label>Toll Amt</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.tollAmt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.tollAmt></div></div><div class=col-md-3><div class=form-group><label>Parking Amt</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.parkingAmt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.parkingAmt></div></div></div><div class=modal-footer><button class="btn btn-default active pull-left" data-ng-click=switchView()>Back</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-click=submitRequest() data-ng-disabled=loading>{{loading?"Please Wait...":"Submit"}}</button></div></form></div></div></div>'),a.put("request/fixed/fixed-request.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Fixed Request</h3><div class=pull-right><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click="newRequest(\'request/fixed/add-fixed-request.html\',\'addFixedRequestController\')">New Request</button></div></div><div class=grid-actionbar data-ng-show=!loading><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><select class=form-control data-ng-model=filter.party><option value>Select Party</option><option data-ng-repeat="p in partyList">{{p.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><button data-ng-click=applyFilter() type=button class="btn btn-primary">Apply</button> <button data-ng-click=clearFilter() type=button class="btn btn-primary">Clear</button></form></div><div class=col-md-4><form class="form-inline export"><div class=form-group><input type=text class=form-control placeholder="Global Search" data-ng-model=globalSearch></div><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand>Date</th><th>Client Name</th><th data-hide=phone,tablet>Request Type</th><th data-hide=phone,tablet>Vehicle Provided</th><th data-hide=phone>Vehicle</th><th data-hide=phone>Driver</th><th>Total KM</th><th>Extra HR</th><th data-hide=phone class=td-actions>Action</th></tr></thead><tbody><tr ng-repeat="f in data.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:globalSearch" data-responsive-grid><td data-ng-bind=\'f.date | date:"dd-MMM-yyyy"\'></td><td data-ng-bind=f.partyName></td><td data-ng-bind="\'{{f.requestType===\'local\'?\'Local\':\'Out Station\'}}\'"></td><td data-ng-bind=f.vehicleSelect></td><td>{{f.vehicleSelect==="daily"?f.vehicle:f.vehicleSelect==="own"?f.own.vehicle:f.vehicleSelect==="indirect"?f.inDirect.vehicle:f.vehicleSelect==="operator"?f.operator.vehicleName+\',\'+f.operator.vehicleNo:f.agency.vehicleName+\',\'+f.agency.vehicleNo}}</td><td>{{f.vehicleSelect==="daily" || f.vehicleSelect==="own"?f.driver:f.vehicleSelect==="indirect"?f.inDirect.driver:f.vehicleSelect==="operator"?f.operator.driver:f.agency.driver}}</td><td data-ng-bind=f.totalKm></td><td data-ng-bind=f.extraHr></td><td class=td-actions><div class=btn-group><button title=View data-ng-click="viewRequest(\'request/fixed/add-fixed-request.html\',\'addFixedRequestController\',localEnv?f._id:f._id.$oid)" class="btn btn-primary"><i class="fa fa-eye"></i></button> <button title=Edit data-ng-click="editRequest(\'request/fixed/add-fixed-request.html\',\'addFixedRequestController\',localEnv?f._id:f._id.$oid)" class="btn btn-success"><i class="fa fa-edit"></i></button> <button title=Delete data-ng-click=deleteRequest(localEnv?f._id:f._id.$oid) class="btn btn-danger"><i class="fa fa-trash"></i></button></div></td></tr></tbody></table></div><div class=grid-pager data-ng-show="data.length>1"><uib-pagination total-items=totalItems max-size=maxSize ng-model=currentPage force-ellipses=true class=pagination-sm items-per-page=itemsPerPage boundary-link-numbers=true previous-text=&lsaquo; next-text=&rsaquo;></uib-pagination></div></div>'),a.put("request/regular/add-regular-request.html",'<div class=widget><div class=widget-header><div class=pull-left>{{action}} Regular request</div><div class=pull-right><span class=modal-close data-ng-click=closeModal()><i class="fa fa-close"></i></span></div></div><div class="widget-content new-request"><div class=request-flow><ul><li data-ng-class=\'{"active":request}\'>1. Request Details</li><li data-ng-class=\'{"active":!request}\'>2. Time & Material <span class=hidden-xs>Details</span></li></ul></div><div class=request-detail data-ng-if=request><form name=request-form novalidate><div class=row><div class=col-md-3><div class=form-group><label>Request Type</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.requestType==\'out\'?\'Out Station\':\'Local\'"></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button data-ng-class="{active:requestData.requestType==\'local\'}" class="btn btn-default" data-ng-click=\'requestData.requestType="local"\'>Local</button> <button data-ng-class="{active:requestData.requestType==\'out\'}" class="btn btn-default" data-ng-click=\'requestData.requestType="out"\'>Out Station</button></div></div></div><div class=col-md-3><div class=form-group><label for=exampleInputEmail1>Customer</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.selectClient></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button data-ng-class="{active:requestData.selectClient==\'party\'}" class="btn btn-default" data-ng-click=\'requestData.selectClient="party"\'>Party</button> <button data-ng-class="{active:requestData.selectClient==\'operator\'}" class="btn btn-default" data-ng-click=\'requestData.selectClient="operator"\'>Operator</button> <button data-ng-class="{active:requestData.selectClient==\'user\'}" class="btn btn-default" data-ng-click=\'requestData.selectClient="user"\'>Other</button></div></div></div><div class=col-md-3 data-ng-if=\'requestData.selectClient=="party"\'><div class=form-group><label>Select Party</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.partyName></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.partyName><option value>Select Party</option><option ng-repeat="p in partyList" value={{p.name}}>{{p.name}}</option></select></div></div><div class=col-md-3 data-ng-if=\'requestData.selectClient=="operator"\'><div class=form-group><label>Select Operator</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operatorName></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.operatorName><option value>Select Operator</option><option ng-repeat="p in operatorList" value={{p.name}}>{{p.name}}</option></select></div></div><div class=col-md-3><div class=form-group><label>User Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.userName></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.userName></div></div><div class=col-md-3 data-ng-if=\'requestData.selectClient=="user"\'><div class=form-group><label>User Mail</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.userEmail></span> <input data-ng-if=!hideView type=text class=form-control data-ng-model=requestData.userEmail></div></div></div><div class=row><div class=col-md-3><div class=form-group><label>User Contact</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.userContact></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=requestData.userContact></div></div><div class=col-md-3><div class=form-group><label>Pickup Location</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.pickupLocation></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.pickupLocation></div></div><div class=col-md-3><div class=form-group><label>Place</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.dropLocation></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.dropLocation></div></div><div class=col-md-3><div class=form-group><label>Vehicle Provided</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicleSelect></span><select data-ng-if=!hideView required class=form-control data-ng-model=requestData.vehicleSelect><option value=own>Own</option><option value=indirect>Indirect</option><option value=operator>Operator</option><option value=other>Other</option></select></div></div></div><div class=section-title>Vehicle & Package Details</div><div class=row data-ng-if="requestData.vehicleSelect==\'own\'"><div class=col-md-3><div class=form-group><label>Select Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicle.vehicle></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.vehicle.vehicle><option value>Select Vehicle</option><option ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div></div><div class=col-md-3><div class=form-group><label>AC</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicle.AC></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button class="btn btn-default" data-ng-class=\'{active:requestData.vehicle.AC=="Yes"}\' data-ng-click=\'requestData.vehicle.AC="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:requestData.vehicle.AC=="No"}\' data-ng-click=\'requestData.vehicle.AC="No"\'>No</button></div></div></div><div class=col-md-3><div class=form-group><label>Select Package</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicle.partyPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.vehicle.partyPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Select Driver</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.vehicle.driver></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.vehicle.driver><option value>Select Driver</option><option ng-repeat="d in driverList" value={{d.name}}>{{d.name}}</option></select></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'indirect\'"><div class=col-md-3><div class=form-group><label>Select Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.vehicle></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.inDirect.vehicle><option value>Select Vehicle</option><option ng-repeat="v in oVehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div></div><div class=col-md-3><div class=form-group><label>AC</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.AC></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button class="btn btn-default" data-ng-class=\'{active:requestData.inDirect.AC=="Yes"}\' data-ng-click=\'requestData.inDirect.AC="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:requestData.inDirect.AC=="No"}\' data-ng-click=\'requestData.inDirect.AC="No"\'>No</button></div></div></div><div class=col-md-3><div class=form-group><label>Package From Owner</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.ownerPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.inDirect.ownerPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Package To Party</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.partyPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.inDirect.partyPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'indirect\'"><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.inDirect.driver></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.inDirect.driver></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'operator\'"><div class=col-md-3><div class=form-group><label>Select Operator</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.operatorName></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.operator.operatorName><option value>Select Operator</option><option ng-repeat="o in operatorList" value={{o.name}}>{{o.name}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Select Vehicle</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.vehicle></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.operator.vehicle><option value>Select Vehicle</option><option ng-repeat="o in operatorVehicleList">{{o.name}},{{o.number}}</option></select></div></div><div class=col-md-3><div class=form-group><label>AC</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.AC></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button class="btn btn-default" data-ng-class=\'{active:requestData.operator.AC=="Yes"}\' data-ng-click=\'requestData.operator.AC="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:requestData.operator.AC=="No"}\' data-ng-click=\'requestData.operator.AC="No"\'>No</button></div></div></div><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.driver></span> <input data-ng-if=!hideView required type=text data-ng-model=requestData.operator.driver></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'operator\'"><div class=col-md-3><div class=form-group><label>Package From Operator</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.operatorPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.operator.operatorPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Package To Party</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.operator.partyPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.operator.partyPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'other\'"><div class=col-md-3><div class=form-group><label>Agency Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.agencyName></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.agency.agencyName></div></div><div class=col-md-3><div class=form-group><label>Agency Contact</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.agencyContact></span> <input data-ng-if=!hideView required type=number class=form-control data-ng-model=requestData.agency.agencyContact></div></div><div class=col-md-3><div class=form-group><label>Vehicle Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.vehicleName></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.agency.vehicleName></div></div><div class=col-md-3><div class=form-group><label>Vehicle No</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.vehicleNo></span> <input data-ng-if=!hideView required type=text class=form-control data-ng-model=requestData.agency.vehicleNo></div></div></div><div class=row data-ng-if="requestData.vehicleSelect==\'other\'"><div class=col-md-3><div class=form-group><label>AC</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.AC></span><div data-ng-if=!hideView class="btn-group btn-group-sm"><button class="btn btn-default" data-ng-class=\'{active:requestData.agency.AC=="Yes"}\' data-ng-click=\'requestData.agency.AC="Yes"\'>Yes</button> <button class="btn btn-default" data-ng-class=\'{active:requestData.agency.AC=="No"}\' data-ng-click=\'requestData.agency.AC="No"\'>No</button></div></div></div><div class=col-md-3><div class=form-group><label>Package From Agency</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.agencyPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.agency.agencyPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Package From Party</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.partyPackage></span><select required class=form-control data-ng-if=!hideView data-ng-model=requestData.agency.partyPackage><option value>Select Package</option><option ng-repeat="p in packageList" value={{p.packageCode}}>{{p.packageCode}}</option></select></div></div><div class=col-md-3><div class=form-group><label>Driver Name</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.agency.driver></span> <input data-ng-if=!hideView required class=form-control type=text data-ng-model=requestData.agency.driver></div></div></div><div class=modal-footer><button class="btn btn-danger pull-left" data-ng-click=closeModal()>Close</button> <button class="btn btn-primary pull-right" data-ng-click=switchView()>Next</button></div></form></div><div class=time-detail data-ng-if=!request><form name=time-form novalidate><div class=row><div class=col-md-3><div class=form-group><label>Start Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.startTrip.date | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=requestData.startTrip.date show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.start ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'start\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>End Date</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.endTrip.date | date:\'dd-MMM-yyyy\'"></span><p data-ng-if=!hideView class=input-group><input type=text class=form-control ng-model=requestData.endTrip.date show-button-bar=false show-weeks=false uib-datepicker-popup=dd-MMM-yyyy is-open=calendar.end ng-required=true close-text=Close> <span class=input-group-btn><button type=button class="btn btn-default" ng-click="openCalendar(\'end\')"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class=col-md-3><div class=form-group><label>Opening KM</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.openingKm></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.openingKm></div></div><div class=col-md-3><div class=form-group><label>Closing KM</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.closingKm></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.closingKm></div></div></div><div class=row><div class=col-md-3><div class=form-group><label class=time-label>Start Time</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.startTrip.time | date:\'shortTime\'"></span><uib-timepicker data-ng-if=!hideView ng-model=requestData.startTrip.time show-meridian=true></uib-timepicker></div></div><div class=col-md-3><div class=form-group><label class=time-label>End Time</label> <span data-ng-if=hideView class=view-value data-ng-bind="requestData.endTrip.time | date:\'shortTime\'"></span><uib-timepicker data-ng-if=!hideView ng-model=requestData.endTrip.time show-meridian=true></uib-timepicker></div></div><div class=col-md-3><div class=form-group><label>Total KM</label> <button data-ng-click=calculateTotalKm() data-ng-if=!hideView type=button data-ng-disabled="requestData.closingKm<=0 || requestData.openingKm<=0" class="btn btn-primary calc-btn"><i class="fa fa-calculator"></i> KM</button> <span class=view-value data-ng-bind=requestData.totalKm></span></div></div><div class=col-md-3 data-ng-if="requestData.requestType==\'local\'"><div class=form-group><label>Total Hours</label> <button data-ng-click=calculateTotalHr() data-ng-if=!hideView type=button class="btn btn-primary calc-btn" data-ng-disabled="!requestData.startTrip.date || !requestData.startTrip.time || !requestData.endTrip.date || !requestData.endTrip.time"><i class="fa fa-calculator"></i> Hr</button> <span class=view-value data-ng-bind=requestData.totalHr></span></div></div><div class=col-md-3 data-ng-if="requestData.requestType==\'out\'"><div class=form-group><label>Total Days</label> <button data-ng-click=calculateTotalDays() data-ng-if=!hideView type=button class="btn btn-primary calc-btn" data-ng-disabled="!requestData.startTrip.date || !requestData.startTrip.time || !requestData.endTrip.date || !requestData.endTrip.time"><i class="fa fa-calculator"></i> Days</button> <span class=view-value data-ng-bind=requestData.totalDays></span></div></div></div><div class=section-title>Miscellaneous Details</div><div class=row><div class=col-md-3><div class=form-group><label>Advance Amt from client</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.advanceAmt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.advanceAmt></div></div><div class=col-md-3><div class=form-group><label>Driver Allowance</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.driverAllowance></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.driverAllowance></div></div><div class=col-md-3><div class=form-group><label>Toll Amt</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.tollAmt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.tollAmt></div></div><div class=col-md-3><div class=form-group><label>Parking Amt</label> <span data-ng-if=hideView class=view-value data-ng-bind=requestData.parkingAmt></span> <input data-ng-if=!hideView type=number class=form-control data-ng-model=requestData.parkingAmt></div></div></div><div class=section-title></div><div class=trip-calculation><div class=form-action><button type=button data-ng-if=\'requestData.requestType=="local" && action!=="view"\' data-ng-disabled="requestData.totalKm<=0 || requestData.totalHr<=0" class="btn btn-info" data-ng-click=calculate()>Calculate</button> <button type=button data-ng-if=\'requestData.requestType=="out" && action!=="view"\' data-ng-disabled="requestData.totalKm<=0 || requestData.totalDays<=0" class="btn btn-info" data-ng-click=calculate()>Calculate</button></div><div class=calc-data><table><tr><td>Trip Amount :</td><td><i class="fa fa-rupee"></i> <span>{{requestData.totalAmt | number:\'2\'}}</span>/-</td></tr><tr data-ng-if=\'requestData.driverOverTime>0 && requestData.requestType=="local" && requestData.vehicleSelect=="own"\'><td>Driver Over Time :</td><td><i class="fa fa-rupee"></i> <span>{{requestData.driverOverTime | number:\'2\'}}</span>/-</td></tr><tr><td>Trip Profit :</td><td><i class="fa fa-rupee"></i> <span>{{(requestData.profit) | number:\'2\'}}</span>/-</td></tr></table></div></div><div class=modal-footer><button class="btn btn-default active pull-left" data-ng-click=switchView()>Back</button> <button data-ng-if="action!==\'view\'" class="btn btn-success pull-right" data-ng-click=submitRequest() data-ng-disabled=loading>{{loading?"Please Wait...":"Submit"}}</button></div></form></div></div></div>'),
a.put("request/regular/regular-request.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Regular Request</h3><div class=pull-right><span class=count>Total Request : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click="newRequest(\'request/regular/add-regular-request.html\',\'addRegularRequestController\')">New Request</button></div></div><div class=grid-actionbar data-ng-show=!loading><div class=row><div class=col-md-8><form class=form-inline novalidate><div class=form-group><div class=btn-group><button class="btn btn-default" data-ng-class=\'{active:filter.type=="vehicle"}\' data-ng-click=\'filter.type="vehicle"\'>Vehicle</button> <button class="btn btn-default" data-ng-class=\'{active:filter.type=="driver"}\' data-ng-click=\'filter.type="driver"\'>Driver</button></div></div><div class=form-group data-ng-if=\'filter.type=="vehicle"\'><select class=form-control data-ng-model=filter.vehicle><option value>Select Vehicle</option><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div><div class=form-group data-ng-if=\'filter.type=="driver"\'><select class=form-control data-ng-model=filter.driver><option value>Select Driver</option><option data-ng-repeat="d in driverList">{{d.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=filter.month><option data-ng-repeat="m in monthList">{{m}}</option></select></div><button data-ng-click=applyFilter() type=button class="btn btn-primary">Apply</button> <button data-ng-click=clearFilter() type=button class="btn btn-primary">Clear</button></form></div><div class=col-md-4><form class="form-inline export"><div class=form-group><input type=text class=form-control placeholder="Global Search" data-ng-model=globalSearch></div><div class=checkbox><label>&nbsp;Export : &nbsp;</label> <button type=button data-ng-click=exportData() title="Export to PDF" class="btn btn-danger"><i class="fa fa-file-pdf-o"></i></button></div></form></div></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><table data-ng-if="data.length>0"><thead><tr><th data-class=expand>Status</th><th>Start Date</th><th>Client Name</th><th data-hide=phone,tablet>Request</th><th data-hide=phone>End Date</th><th data-hide=phone,tablet>Driver</th><th data-hide=phone>Vehicle</th><th data-hide=phone,tablet>Trip KM</th><th>Total Amt</th><th data-hide=phone>Profit</th><th data-hide=phone class=td-actions>Action</th></tr></thead><tbody><tr ng-repeat="r in data.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage)) | filter:globalSearch" data-responsive-grid><td><i class="fa fa-check-circle-o" data-ng-if=r.payStatus></i> <i class="fa fa-dot-circle-o" data-ng-if=!r.payStatus></i></td><td data-ng-bind=\'r.startTrip.date | date:"dd-MMM-yyyy"\'></td><td data-ng-bind="\'{{r.selectClient===\'party\'?r.partyName:r.selectClient===\'operator\'?r.operatorName:r.userName}}\'"></td><td data-ng-bind="\'{{r.requestType===\'local\'?\'Local\':\'Out Station\'}}\'"></td><td data-ng-bind=\'r.endTrip.date | date:"dd-MMM-yyyy"\'></td><td>{{r.vehicleSelect===\'own\'?r.vehicle.driver:r.vehicleSelect===\'indirect\'?r.inDirect.driver:r.vehicleSelect===\'operator\'?r.operator.driver:r.agency.driver}}</td><td>{{r.vehicleSelect===\'own\'?r.vehicle.vehicle:r.vehicleSelect===\'indirect\'?r.inDirect.vehicle:r.vehicleSelect===\'operator\'?r.operator.vehicleName+\',\'+r.operator.vehicleNo:r.agency.vehicleName+\',\'+r.agency.vehicleNo}}</td><td data-ng-bind="\'{{r.totalKm}}\'+\' KM\'"></td><td><i class="fa fa-rupee"></i> {{r.totalAmt | number:\'2\'}}/-</td><td><i class="fa fa-rupee"></i> {{r.profit | number:\'2\'}}/-</td><td class=td-actions><div class=btn-group><button type=button title=View data-ng-click="viewRequest(\'request/regular/add-regular-request.html\',\'addRegularRequestController\',localEnv?r._id:r._id.$oid)" class="btn btn-primary"><i class="fa fa-eye"></i></button> <button type=button title=Edit data-ng-click="editRequest(\'request/regular/add-regular-request.html\',\'addRegularRequestController\',localEnv?r._id:r._id.$oid)" class="btn btn-success"><i class="fa fa-edit"></i></button> <button type=button title=Delete data-ng-click=deleteRequest(localEnv?r._id:r._id.$oid) class="btn btn-danger"><i class="fa fa-trash"></i></button></div></td></tr></tbody></table></div><div class=grid-pager data-ng-show="data.length>1"><uib-pagination total-items=totalItems max-size=maxSize ng-model=currentPage force-ellipses=true class=pagination-sm items-per-page=itemsPerPage boundary-link-numbers=true previous-text=&lsaquo; next-text=&rsaquo;></uib-pagination></div></div>'),a.put("summary/driver/driver-summary.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Driver Summary for {{year}}</h3><div class=pull-right><form name=vehicleReport class=form-inline><div class=form-group><select class=form-control data-ng-model=driverSelect><option data-ng-repeat="d in driverList">{{d.name}}</option></select></div><div class=form-group><select class=form-control data-ng-model=year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button type=button class="btn btn-primary go-btn" data-ng-click=redrawGraph()><span data-ng-if=!loading>GO</span> <i class="fa fa-refresh fa-spin" data-ng-if=loading></i></button></form></div></div><div class=chart-data><div class=row><div class=col-md-6><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-database"></i> Local Request</div><div class=pull-right></div></div><div class=widget-content><canvas id=local></canvas></div></div></div><div class=col-md-6><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-money"></i> Out Station Request</div><div class=pull-right></div></div><div class=widget-content><canvas id=out></canvas></div></div></div></div></div></div>'),a.put("summary/vehicle/vehicle-summary.html",'<div class=grid-widget><div class=grid-title><h3 class=pull-left>Vehicle Summary for {{year}}</h3><div class=pull-right><form name=vehicleReport class=form-inline><div class=form-group><select class=form-control data-ng-model=vehicleSelect><option data-ng-repeat="v in vehicleList">{{v.vehicleName}},{{v.vehicleNo}}</option></select></div><div class=form-group><select class=form-control data-ng-model=year><option data-ng-repeat="y in yearList">{{y}}</option></select></div><button type=button class="btn btn-primary go-btn" data-ng-click=redrawGraph()><span data-ng-if=!loading>GO</span> <i class="fa fa-refresh fa-spin" data-ng-if=loading></i></button></form></div></div><div class=chart-data><div class=row><div class=col-md-6><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-database"></i> Income</div><div class=pull-right></div></div><div class=widget-content><canvas id=income></canvas></div></div></div><div class=col-md-6><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-money"></i> Expense</div><div class=pull-right></div></div><div class=widget-content><canvas id=expense></canvas></div></div></div></div><div class=row><div class=col-md-6><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-bar-chart"></i> Local Request</div><div class=pull-right></div></div><div class=widget-content><canvas id=local></canvas></div></div></div><div class=col-md-6><div class=widget><div class=widget-header><div class=pull-left><i class="fa fa-bar-chart"></i> Out Station Request</div><div class=pull-right></div></div><div class=widget-content><canvas id=out></canvas></div></div></div></div></div></div>'),a.put("vehicle/other/other-vehicle.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Other Vehicles</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newVehicle()>New Vehicle</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>'),a.put("vehicle/own/own-vehicle.html",'<div class=grid-widget><div class=grid-title data-ng-if=!loading><h3 class=pull-left>Own Vehicles</h3><div class=pull-right><span class=count>Total Records : <strong data-ng-bind=data.length></strong></span> <button class="btn btn-primary" data-ng-click=newVehicle()>New Vehicle</button></div></div><div class=grid><div data-ng-if=loading class=loader><i class="fa fa-refresh fa-spin"></i> Please Wait...</div><div data-ng-if="data.length===0 && !loading" class=loader>0 Record Found.</div><div data-ng-if="data.length>0" data-grid gridconfig=gridConfig datasource=data view=view(data) edit=edit(data) delete=delete(data)></div></div></div>')}]);